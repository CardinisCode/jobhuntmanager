{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}
    <div class="alignfull-form"> 
        <div class="aligncenter"> 

            {% if get_flashed_messages() %}
                {% for message in get_flashed_messages() %}
                    <div class="flash alert alert-danger border text-center">{{ message }}</div>
                {% endfor %}
            {% endif %}

        </div>
    </div>

    <div class="alignfull-form"> 
        <div class="aligncenter"> 
            <h2 class="heading italics"><i class="fas fa-key"></i> Passwords are hashed, but not salted!</h2>
        </div>
    </div>

    <div class="alignfull-form"> 
        <div class="aligncenter"> 
            <div class="form-grid full-grid-length">
                <form action="/register" method="POST"> 
                    {{ register_form.hidden_tag() }}
                    <div class="form-grid_child"> 
                        <h1 class="h1-heading-extra-margins"> Register</h1>
                        <div class="form-row">
                            <div class="col grid_child-simple">
                                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> <i class="fas fa-user"></i> {{ register_form.username.label }}</dt>
                                <dd class="wpforms-container-full .wpforms-form .wpforms-description"> {{ register_form.username }} </dd>
                            </div>
                            <div class="col grid_child-simple">
                                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> <i class="fas fa-at"></i> {{ register_form.email_address.label }}</dt>
                                <dd class="wpforms-container-full .wpforms-form .wpforms-description"> {{ register_form.email_address }} </dd>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col grid_child-simple">
                                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> <i class="fas fa-lock"></i> {{ register_form.password.label }}</dt>
                                <dd class="wpforms-container-full .wpforms-form .wpforms-description"> {{ register_form.password }} </dd>
                            </div>
                            <div class="col grid_child-simple">
                                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> <i class="fas fa-lock"></i> {{ register_form.confirm_password.label }}</dt>
                                <dd class="wpforms-container-full .wpforms-form .wpforms-description"> {{ register_form.confirm_password }} </dd>
                            </div>
                        </div>
                
                        <div class="form-row">
                            <div class="col btn btn-lg">
                                <dd class="wpforms-container-full .wpforms-form .wpforms-description text_box">{{ register_form.register_button }} </dd>
                            </div>
                        </div>
                
                        {% for field in register_form if field.name != "csrf_token" %}
                            {% for error in field.errors %}
                                {{ error }}
                            {% endfor %}
                        {% endfor %}
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="alignfull-disclaimer background-colour end-page-margins"> 
        <div class="aligncenter"> 
            <h2 class="heading-extra-margins"><i class="fas fa-exclamation"></i> Disclaimer</h2>
            <h3 class="headings">Please note that this is a pilot product. </h3>
            <p> Although passwords have been hashed, no salting has been implemented.
                As a precaution, please do not use personal information (or passwords) when testing this product. 
            </p>
            <p> 
                <strong> Recommendation: </strong> Use your favourite fictional character. I've done this through out the testing process!
            </p>
        </div>
    </div>

{% endblock %}