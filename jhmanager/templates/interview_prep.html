{% extends "layout.html" %}

{% block title %}
    Add Interview Preparation
{% endblock %}

{% block main %}
    <h1 class="text-center"> Prepare for your next Interview </h1>
    <br/>
    <p> Not sure where to start? Here are a few links you may find interesting to get you started:</p>
    <div> 
        <li> <a href="https://www.glassdoor.co.uk/blog/50-common-interview-questions/">GlassDoor</a></li>
        <li><a href="https://www.themuse.com/advice/interview-questions-and-answers">The Muse</a></li>
        <li><a href="https://www.monster.com/career-advice/article/100-potential-interview-questions"> Monster</a></li>
        <li><a href="https://nationalcareers.service.gov.uk/careers-advice/top-10-interview-questions"> National Careers Service UK</a></li>
    </div>
    <p>  </p>
    <!-- Refer user to certain page listing all sites offering Interview prep advice Incl. Reed-->
    <br/>
    <!-- 'Select' drop down list -->
    <!-- Will list all the interviews lined up by company name-->
    
    
    {% if get_flashed_messages() %}
        {% for message in get_flashed_messages() %}
            <div class="flash alert alert-success border text-center">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form action={{ details.action_url }} method="POST">
        <h2 class="text-center"> Add Interview Question:</h2>
        <hr class="thick_border"> 
        <br/>

        {{ interview_prep_form.csrf_token }}

        <div class="form-row">
            <div class="col">
                <p class="text-center"> Example Question: Tell me about yourself?</p>
            </div>
        </div>

        <div class="form-row">
            <div class="col">
                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> {{ interview_prep_form.interview_question.label }}</dt>
                <dd class="wpforms-container-full .wpforms-form .wpforms-description text_box">{{ interview_prep_form.interview_question }} </dd> 
            </div>
        </div>
        <div class="form-row">
            <div class="col">
                <dt class="wpforms-container-full .wpforms-form .wpforms-title"> {{ interview_prep_form.answer_text.label }}</dt>
                <dd class="wpforms-container-full .wpforms-form .wpforms-description text_box">{{ interview_prep_form.answer_text }} </dd> 
            </div>
        </div>

        <div class="form-row">
            <div class="col btn btn-lg">
                <dd class="wpforms-container-full .wpforms-form .wpforms-description text_box">{{ interview_prep_form.save_preparation }} </dd>
            </div>
        </div>

        {% for field in interview_prep_form if field.name != "csrf_token" %}
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
        {% endfor %}
    </form>
    <br/>

    {% if interview_prep_details != None %}
        <h2> View Interview Prep</h2>
        <hr/>
        
        {% for prep_id, values in interview_prep_details.items() %}
            <table class="border-bottom border-right border-left border-top"> 
                {% for heading, data in values.items() %}
                    {% if heading == "Q#" %}
                    <p> Question Number: #{{ data }}</p>
                    {% else %}
                        <tr class="border-bottom border-right border-left border-top">
                            <th class="border-bottom border-right border-left border-top"> {{ heading }} :</th>
                            <td class="border-bottom border-right border-left border-top"> {{ data }}</td>
                        </tr>
                    {% endif %}
                {% endfor %}
            </table>
            <hr/>
            <br/>
        {% endfor %}
    {% endif %}

    <div> 
        <a href={{ details.return_to_interview }}> <i class="fas fa-angle-left"> Go back to Interview</i> </a>
        <a href={{ details.return_to_application }} class="link-right"> <i class="fas fa-angle-double-left"> Go back to Application</i> </a>
    </div>


{% endblock %}