{% extends "layout.html" %}

{% block title %}
    View All User Notes
{% endblock %}

{% block main %}
    <div class="alignfull">
        <div class="aligncenter"> 
            <h1 class="text-center">  View All User Notes </h1>

            {% if get_flashed_messages() %}
                {% for message in get_flashed_messages() %}
                    <div class="flash alert alert-success border text-center">{{ message }}</div>
                {% endfor %}
            {% endif %}
        
        </div>
    </div>

    <div class="alignfull background-colour">
        <div class="aligncenter"> 
            <h2 class="text-center"> Application Notes</h2>
            <br/>
            {% if app_notes_details.empty_table != True %}
                <table> 
                    <tr class="border-bottom border-right border-left border-top blue-row-background"> 
                        {% for heading in app_notes_details.headings %}
                            <th class="border-bottom border-right border-left border-top td-styling"> {{ heading }} </th>
                        {% endfor %}
                    </tr>
        
                    {% for entry_id, fields in app_notes_details.fields.items() %}
                        <tr>
                            <td class="border-bottom border-right border-left border-top"> {{ entry_id }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.entry_date }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.company_name }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.job_role }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.description }}</td>
                            <td class="td-styling"> 
                                <div class="three-button-grid" role="group" aria-label="note_link_urls"> 
                                    <a href={{ fields.view_note_url }} class="table_link_button"> <i class="fas fa-eye"> View</i></a> 
                                    <a href={{ fields.update_note_url }} class="table_link_button"> <i class="fas fa-pencil-alt"> Update</i></a> 
                                    <a href={{ fields.delete_note_url }} class="table_link_button"> <i class="fas fa-trash"> Delete</i></a> 
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}
            <br/>
        </div>
    </div>
    
    <div class="alignfull">
        <div class="aligncenter"> 
            <h2 class="text-center"> Company Notes</h2>
            <br/>
            {% if company_notes_details.empty_table != True %}
                <table> 
                    <tr class="border-bottom border-right border-left border-top blue-row-background"> 
                        {% for heading in company_notes_details.headings %}
                            <th class="border-bottom border-right border-left border-top td-styling"> {{ heading }} </th>
                        {% endfor %}
                    </tr>
        
                    {% for entry_id, fields in company_notes_details.fields.items() %}
                        <tr>
                            <td class="border-bottom border-right border-left border-top"> {{ entry_id }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.entry_date }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.company_name }}</td>
                            <td class="border-bottom border-right border-left border-top"> {{ fields.subject }}</td>
                            <td class="td-styling"> 
                                <div class="three-button-grid" role="group" aria-label="note_link_urls"> 
                                    <a href={{ fields.view_company_note_url }} class="table_link_button"> <i class="fas fa-eye"> View</i></a>
                                    <a href={{ fields.update_company_note_url }} class="table_link_button"> <i class="fas fa-pencil-alt"> Update</i></a> 
                                    <a href={{ fields.delete_company_note_url }} class="table_link_button"> <i class="fas fa-trash"> Delete</i></a> 
                                </div>
                            </td>    
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}
            <br/>
        </div>        
    </div>
    <div class="alignfull background-colour">
        <div class="aligncenter"> 
            <div class="text-center xxx-margins" role="group"> 
                <a href='/address_book' class="link_button_primary text-center"><i class="fas fa-eye"> View Company Address Book</i></a>
                <a href="/applications" class="link_button_primary text-center"><i class="fas fa-eye"> View all Applications</i></a>
            </div>
        </div>
    </div>

{% endblock %}