{% extends "layout.html" %}

{% block title %}
    View Interview
{% endblock %}

{% block main %}
    <div class="alignfull">
        <div class="aligncenter">    
            <h1 class="text-center"> Interview Details </h1>

            {% if get_flashed_messages() %}
                {% for message in get_flashed_messages() %}
                    <div class="flash alert alert-success border text-center">{{ message }}</div>
                {% endfor %}
            {% endif %}
            
        </div>
    </div>

    <div class="alignfull">
        <div class="aligncenter"> 
            <div class="single_col_grid">
                <div class="grid_child"> 
                    <h2 class="card-headings"> {{ details.company_name}}</h2> 
                    <div class="form-row">
                        <div class="col left-padding"> 
                            <i class="fas fa-calendar-alt"></i><strong> Date & Time:</strong>
                        </div>
                        <div class="col right-padding"> 
                            {{ interview_details.fields.date }} @ {{ interview_details.fields.time }}
                        </div>
                    </div>
                    {% if interview_details.fields.interview_type == 'Video / Online' %}
                        <div class="form-row">
                            <div class="col left-padding"> 
                                <i class="fas fa-video"></i> <strong> Medium:</strong>
                            </div>
                            <div class="col right-padding"> 
                                {{ interview_details.fields.medium }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col left-padding"> 
                                <i class="fas fa-video"></i> <strong> Video Link</strong>
                            </div>
                            <div class="col right-padding"> 
                                {{ interview_details.fields.video_link }}
                            </div>
                        </div>
                    {% elif interview_details.fields.interview_type == 'Phone Call' %}
                        <div class="form-row">
                            <div class="col left-padding"> 
                                <i class="fas fa-mobile-alt"></i> <strong> Contact Number</strong>
                            </div>
                            <div class="col right-padding"> 
                                {{ interview_details.fields.contact_number }}
                            </div>
                        </div>
                    {% endif %}
                    {% if interview_details.fields.location %}
                        <div class="form-row">
                            <div class="col left-padding"> 
                                <i class="fas fa-thumbtack"></i> <strong> Location</strong>
                            </div>
                            <div class="col right-padding"> 
                                {{ interview_details.fields.location }}
                            </div>
                        </div>
                    {% endif %}
                    {% if interview_details.fields.interviewer_names %}
                        <div class="form-row">
                            <div class="col left-padding"> 
                                <i class="fas fa-users"></i><strong> Interviewer/s' Names:</strong>
                            </div>
                            <div class="col right-padding"> 
                                {{ interview_details.fields.interviewer_names }}
                            </div>
                        </div>
                    {% endif %}
                    <div class="form-row">
                        <div class="col left-padding"> 
                            <i class="fas fa-exclamation"></i> <strong> Interview Status:</strong>
                        </div>
                        <div class="col right-padding"> 
                            {{ interview_details.fields.status }}
                        </div>
                    </div>
                    {% if interview_details.fields.past_dated and interview_details.fields.status != "Done" %}
                        <div class="form-row">
                            <div class="col card-warning-message"> 
                                <i class="fas fa-exclamation"></i> This is a past-dated interview!
                            </div>
                        </div>
                    {% endif %}
                    <br/>
                    <div class="text-center link-button-margins"> 
                        {% if interview_details.fields.status == 'Upcoming' %}
                            <a href={{ details.view_interview_prep_url }} class="link_button"><i class="fas fa-clipboard"> Prepare </i></a>
                        {% endif %}
                        <a href={{ details.update_url }} class="link_button" data-toggle="tooltip" data-placement="top" title="Update"> <i class="fas fa-pencil-alt"> Update</i></a>
                        <a href={{ details.delete_url }} class="link_button"> <i class="fas fa-trash"> Delete</i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="alignfull">
        <div class="aligncenter"> 
            <div class="text-center xxx-margins"> 
                <a href={{ details.return_to_application }} class="link_button_primary text-center"> <i class="fas fa-angle-left"> Go back to Application</i></a>
                <a href={{ details.company_details.view_company_url }} class="link_button_primary text-center"> <i class="fas fa-eye"> View Company Profile</i></a>
                <a href={{ details.view_notes_url }} class="link_button_primary text-center"> <i class="fas fa-eye"> View Application Notes</i></a>
            </div>
        </div>
    </div>


{% endblock %}